import g from"../lib/getWalletContents.js";import{useEffect as p,useRef as l,useState as d}from"react";const y=(s,t)=>{const[c,f]=d(),[m,u]=d({}),i=l(t),o=l();return p(()=>{if(!s)return;i.current=t;const a=async()=>{const e=c?.address??s.currentAccount?.address;if(!e)return;u(n=>n.address===e?n:{...n,address:e});const r=await g({address:e,network:t,existingContents:o.current});!r||t!==i.current||JSON.stringify(o.current)===JSON.stringify(r)||(o.current=r,u(n=>({...n,contents:r})))};a();const A=setInterval(a,5e3);return()=>clearInterval(A)},[t,s,c]),{account:m,altAccount:c,setAltAccount:f}};var v=y;export{v as default};
